<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f043ce3ff6d16d461758.css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-size:1rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Noto Sans KR,Roboto,Open Sans,Microsoft YaHei,sans-serif}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.13.23"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notosanskr/v12/Pby7FmXiEBPT4ITbgNA5CgmOalv477IR.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notosanskr/v12/Pby7FmXiEBPT4ITbgNA5CgmOelz477IR.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notosanskr/v12/PbykFmXiEBPT4ITbgNA5CgmG0X7t.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/sourcecodepro/v11/HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevW.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/sourcecodepro/v11/HI_XiYsKILxRpg3hIP6sJ7fM7Pqt4s_Ds-cq.woff2"/><style type="text/css">@font-face{font-family:'Noto Sans KR';font-style:normal;font-weight:300;src:local('Noto Sans KR Light'),local('NotoSansKR-Light'),url(/google-fonts/s/notosanskr/v12/Pby7FmXiEBPT4ITbgNA5CgmOelz477IR.woff2) format('woff2'),url(/google-fonts/s/notosanskr/v12/Pby7FmXiEBPT4ITbgNA5CgmOelz477IX.woff) format('woff');font-display: swap;}@font-face{font-family:'Noto Sans KR';font-style:normal;font-weight:400;src:local('Noto Sans KR Regular'),local('NotoSansKR-Regular'),url(/google-fonts/s/notosanskr/v12/PbykFmXiEBPT4ITbgNA5CgmG0X7t.woff2) format('woff2'),url(/google-fonts/s/notosanskr/v12/PbykFmXiEBPT4ITbgNA5CgmG0X7r.woff) format('woff');font-display: swap;}@font-face{font-family:'Noto Sans KR';font-style:normal;font-weight:700;src:local('Noto Sans KR Bold'),local('NotoSansKR-Bold'),url(/google-fonts/s/notosanskr/v12/Pby7FmXiEBPT4ITbgNA5CgmOalv477IR.woff2) format('woff2'),url(/google-fonts/s/notosanskr/v12/Pby7FmXiEBPT4ITbgNA5CgmOalv477IX.woff) format('woff');font-display: swap;}@font-face{font-family:'Source Code Pro';font-style:normal;font-weight:400;src:local('Source Code Pro Regular'),local('SourceCodePro-Regular'),url(/google-fonts/s/sourcecodepro/v11/HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevW.woff2) format('woff2'),url(/google-fonts/s/sourcecodepro/v11/HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevQ.woff) format('woff');font-display: swap;}@font-face{font-family:'Source Code Pro';font-style:normal;font-weight:600;src:local('Source Code Pro SemiBold'),local('SourceCodePro-SemiBold'),url(/google-fonts/s/sourcecodepro/v11/HI_XiYsKILxRpg3hIP6sJ7fM7Pqt4s_Ds-cq.woff2) format('woff2'),url(/google-fonts/s/sourcecodepro/v11/HI_XiYsKILxRpg3hIP6sJ7fM7Pqt4s_Ds-cs.woff) format('woff');font-display: swap;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/static/icons/android-icon-48x48.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><link rel="manifest" href="/manifest_ko.webmanifest"/><meta name="theme-color" content="#ffffff"/><link rel="apple-touch-icon" sizes="48x48" href="/static/icons/android-icon-48x48.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><link rel="apple-touch-icon" sizes="72x72" href="/static/icons/android-icon-72x72.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><link rel="apple-touch-icon" sizes="96x96" href="/static/icons/android-icon-96x96.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><link rel="apple-touch-icon" sizes="144x144" href="/static/icons/android-icon-144x144.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><link rel="apple-touch-icon" sizes="192x192" href="/static/icons/android-icon-192x192.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><link rel="apple-touch-icon" sizes="256x256" href="/static/icons/android-icon-256x256.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><link rel="apple-touch-icon" sizes="384x384" href="/static/icons/android-icon-384x384.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><link rel="apple-touch-icon" sizes="512x512" href="/static/icons/android-icon-512x512.png?v=0b4863c7cf94a1fa5f384a6b9a3b9af7"/><title data-react-helmet="true">TF-IDF를 활용한 클래스 유사도 분석과 추천 서버 구축 1편 | 클래스101 기술 블로그</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x26.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="57x57" href="/icons/apple-icon-57x57.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="60x60" href="/icons/apple-icon-60x60.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="72x72" href="/icons/apple-icon-72x72.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/icons/apple-icon-76x76.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="114x114" href="/icons/apple-icon-114x114.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/icons/apple-icon-120x120.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="144x144" href="/icons/apple-icon-144x144.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/icons/apple-icon-152x152.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/icons/apple-icon-180x180.png"/><link data-react-helmet="true" rel="shortcut icon" type="ico" href="/icons/favicon.ico"/><meta data-react-helmet="true" name="description" content=" Overview 클래스101에서 추천 서버를 담당하고 있는 Esmond입니다. 최근에 TF-IDF(Term Frequency - Inverse Document Frequency)를 활용해 클래스 간의 유사도를 분석하고 이를 API로 올렸습니다. 그 개발 과정과 이를 통해 앞으로 개선할 점을 두 편의 글로 쓰겠습니다. 개발 배경 및 목표 클래스101 앱에서 볼 수 있는 수백 개의 클래스를 어떻게 분류할 수 있을까요? 우리는 크게 두 가지의 기준을 가지고 있습니다. 첫째, 클래스가 처음 제작될 때 지정되는 클래스의 카테고리로 분류한다…"/><meta data-react-helmet="true" name="author" content="에즈먼드"/><meta data-react-helmet="true" property="og:title" content="TF-IDF를 활용한 클래스 유사도 분석과 추천 서버 구축 1편"/><meta data-react-helmet="true" property="og:url" content="https://class101.dev/"/><meta data-react-helmet="true" property="og:image" content="https://class101.dev/images/thumbnails/tf-idf.png"/><meta data-react-helmet="true" property="og:image:width" content="1600"/><meta data-react-helmet="true" property="og:image:height" content="900"/><meta data-react-helmet="true" property="og:description" content=" Overview 클래스101에서 추천 서버를 담당하고 있는 Esmond입니다. 최근에 TF-IDF(Term Frequency - Inverse Document Frequency)를 활용해 클래스 간의 유사도를 분석하고 이를 API로 올렸습니다. 그 개발 과정과 이를 통해 앞으로 개선할 점을 두 편의 글로 쓰겠습니다. 개발 배경 및 목표 클래스101 앱에서 볼 수 있는 수백 개의 클래스를 어떻게 분류할 수 있을까요? 우리는 크게 두 가지의 기준을 가지고 있습니다. 첫째, 클래스가 처음 제작될 때 지정되는 클래스의 카테고리로 분류한다…"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:site_name" content="클래스101 기술 블로그"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="에즈먼드"/><meta data-react-helmet="true" name="twitter:title" content="TF-IDF를 활용한 클래스 유사도 분석과 추천 서버 구축 1편"/><meta data-react-helmet="true" name="twitter:description" content=" Overview 클래스101에서 추천 서버를 담당하고 있는 Esmond입니다. 최근에 TF-IDF(Term Frequency - Inverse Document Frequency)를 활용해 클래스 간의 유사도를 분석하고 이를 API로 올렸습니다. 그 개발 과정과 이를 통해 앞으로 개선할 점을 두 편의 글로 쓰겠습니다. 개발 배경 및 목표 클래스101 앱에서 볼 수 있는 수백 개의 클래스를 어떻게 분류할 수 있을까요? 우리는 크게 두 가지의 기준을 가지고 있습니다. 첫째, 클래스가 처음 제작될 때 지정되는 클래스의 카테고리로 분류한다…"/><meta data-react-helmet="true" name="twitter:label1" content="Written By"/><meta data-react-helmet="true" name="twiiter:data1" content="에즈먼드"/><meta data-react-helmet="true" name="keywords" content="class101, typescript, monorepo, react, graphql, apllo, aws"/><meta data-react-helmet="true" name="fb:app_id" content="2582489538450547"/><meta data-react-helmet="true" name="msapplication-TileColor" content="#ffffff"/><meta data-react-helmet="true" name="msapplication-TileImage" content="/icons/ms-icon-144x144.png"/><meta data-react-helmet="true" name="theme-color" content="#ffffff"/><style data-styled="jGmALK jltglz kUFcze bwAdMP DNFnA iBrsbu fRkQwK fIzunj chJCBg UMvQk btnDQV jVcMoj kGlFEZ bFOsCX dHnwaE fVbhVU bdPnbg gUlJEp jdkpkB hBKkTB dWSCZy ceeZup gEKJQZ lhRAoc dBDefs hMWwcz fpURgw iDegNP lcDDZr fsJRzA jSkpUy wZbtm ckhzBz fGQKSY egeTSP NxmbO lCGJW cICPMT" data-styled-version="4.3.2">
/* sc-component-id: sc-bdVaJa */
.hBKkTB{font-size:14px;font-weight:normal;color:#3e4042;line-height:20px;-webkit-letter-spacing:-0.2px;-moz-letter-spacing:-0.2px;-ms-letter-spacing:-0.2px;letter-spacing:-0.2px;margin:0;margin:0;}
/* sc-component-id: sc-bsbRJL */
.DNFnA{position:relative;min-height:1px;padding-right:12px;padding-left:12px;box-sizing:border-box;} @media (max-width:1023px){.DNFnA{width:100%;padding-right:4px;padding-left:4px;}} @media{.DNFnA{width:100%;}} @media (min-width:1024px){.DNFnA{width:100%;}}
/* sc-component-id: sc-hZSUBg */
.bwAdMP{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-content:stretch;-ms-flex-line-pack:stretch;align-content:stretch;margin-right:-12px;margin-left:-12px;} @media (max-width:1023px){.bwAdMP{margin-right:-4px;margin-left:-4px;}}
/* sc-component-id: sc-cMhqgX */
.kUFcze{position:relative;margin-left:auto;margin-right:auto;} @media (max-width:1023px){.kUFcze{margin-left:24px;margin-right:24px;}} @media (min-width:1024px){.kUFcze{max-width:960px;}}
/* sc-component-id: Bio__BioContainer-sc-155qmyt-0 */
.iDegNP{margin:32px 0;display:block;background:white;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-text-decoration:none;text-decoration:none;} .iDegNP:hover{color:inherit;}
/* sc-component-id: Bio__BioImage-sc-155qmyt-1 */
.lcDDZr{width:100px;height:100px;border-radius:50%;margin-right:32px;object-fit:cover;} @media (max-width:425px){.lcDDZr{width:100px;height:100px;margin-right:16px;}}
/* sc-component-id: Bio__Username-sc-155qmyt-3 */
.jSkpUy{font-size:20px;font-weight:bold;color:#3e4042;line-height:28px;-webkit-letter-spacing:-0.3px;-moz-letter-spacing:-0.3px;-ms-letter-spacing:-0.3px;letter-spacing:-0.3px;margin:0;display:block;-webkit-text-decoration:none;text-decoration:none;margin-bottom:4px;} .jSkpUy:hover{-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: Bio__SocialIcon-sc-155qmyt-4 */
.wZbtm img{margin:8px 4px 0px 0px;width:24px;}
/* sc-component-id: Comments__CommentsContainer-sc-1631qqa-0 */
.ckhzBz{margin:32px auto;}
/* sc-component-id: Img__ImageContainer-sc-1rnm859-0 */
.hMWwcz{display:block;position:relative;overflow:hidden;background:rgba(0,0,0,0.2);padding-top:56.25%;}
/* sc-component-id: Img__Image-sc-1rnm859-1 */
.fpURgw{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:3px;}
/* sc-component-id: Footer__Container-sc-1vg27dx-0 */
.fGQKSY{background-color:#edeff0;padding-top:32px;} .fGQKSY a{color:inherit;font-weight:600;color:#1b1c1d;-webkit-text-decoration:none;text-decoration:none;} .fGQKSY a:hover{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;} .fGQKSY p{padding:0;margin:4px 0;}
/* sc-component-id: Footer__LogoIcon-sc-1vg27dx-1 */
.egeTSP{width:auto;height:40px;margin:0;}
/* sc-component-id: Footer__DownloadIcon-sc-1vg27dx-2 */
.cICPMT{width:120px;margin-right:16px;}
/* sc-component-id: Footer__ContactSection-sc-1vg27dx-3 */
.NxmbO{font-size:16px;font-weight:normal;color:#3e4042;line-height:24px;-webkit-letter-spacing:-0.2px;-moz-letter-spacing:-0.2px;-ms-letter-spacing:-0.2px;letter-spacing:-0.2px;margin:0;}
/* sc-component-id: Footer__ContactArticle-sc-1vg27dx-4 */
.lCGJW{padding:16px 0;}
/* sc-component-id: SearchInput__AutoCompleteContainer-sc-1d7gc1p-0 */
.chJCBg{border:1px solid #dde0e2;box-sizing:border-box;margin:0 16px;padding:8px 0;position:relative;background:white;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}
/* sc-component-id: SearchInput__StyledInput-sc-1d7gc1p-3 */
.UMvQk{font-size:14px;font-weight:normal;color:#3e4042;line-height:20px;-webkit-letter-spacing:-0.2px;-moz-letter-spacing:-0.2px;-ms-letter-spacing:-0.2px;letter-spacing:-0.2px;margin:0;width:100%;padding:0 16px;outline:none;border:none;}
/* sc-component-id: Header__NavConatiner-sc-938f43-0 */
.jltglz{padding:16px 0px;}
/* sc-component-id: Header__NavInnerContainer-sc-938f43-1 */
.iBrsbu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: Header__LogoIcon-sc-938f43-2 */
.fIzunj{display:block;height:40px;width:auto;margin:0;}
/* sc-component-id: Header__NoHoverLink-sc-938f43-3 */
.fRkQwK{box-shadow:none;} .fRkQwK:hover{box-shadow:none;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: Header__MenuContainer-sc-938f43-4 */
.btnDQV{position:relative;cursor:pointer;}
/* sc-component-id: Layout__Main-sc-50n0nv-1 */
.jVcMoj{padding:32px 0;}
/* sc-component-id: LinkTag__StyledLink-o5p4f2-0 */
.bdPnbg{-webkit-text-decoration:none;text-decoration:none;color:#3e4042;background:#edeff0;font-size:16px;padding:4px 8px;border-radius:3px;display:inline-block;margin:8px;} .bdPnbg:hover{color:#FFF;background:#fd7e14;}
/* sc-component-id: ShareButtons__Wrapper-sc-6atok7-0 */
.dHnwaE{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}
/* sc-component-id: ShareButtons__ButtonWrapper-sc-6atok7-1 */
.fVbhVU{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:4px;cursor:pointer;}
/* sc-component-id: post__PostContainer-sc-1sfv28x-0 */
.kGlFEZ{background:white;border-radius:3px;margin:0 auto;} .kGlFEZ .markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom;} .kGlFEZ .markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px;} .kGlFEZ .markdown-body .anchor:focus{outline:none;} .kGlFEZ .markdown-body h1 .octicon-link,.kGlFEZ .markdown-body h2 .octicon-link,.kGlFEZ .markdown-body h3 .octicon-link,.kGlFEZ .markdown-body h4 .octicon-link,.kGlFEZ .markdown-body h5 .octicon-link,.kGlFEZ .markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden;} .kGlFEZ .markdown-body h1:hover .anchor,.kGlFEZ .markdown-body h2:hover .anchor,.kGlFEZ .markdown-body h3:hover .anchor,.kGlFEZ .markdown-body h4:hover .anchor,.kGlFEZ .markdown-body h5:hover .anchor,.kGlFEZ .markdown-body h6:hover .anchor{-webkit-text-decoration:none;text-decoration:none;} .kGlFEZ .markdown-body h1:hover .anchor .octicon-link,.kGlFEZ .markdown-body h2:hover .anchor .octicon-link,.kGlFEZ .markdown-body h3:hover .anchor .octicon-link,.kGlFEZ .markdown-body h4:hover .anchor .octicon-link,.kGlFEZ .markdown-body h5:hover .anchor .octicon-link,.kGlFEZ .markdown-body h6:hover .anchor .octicon-link{visibility:visible;} .kGlFEZ .markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;line-height:1.5;font-size:16px;line-height:1.5;word-wrap:break-word;} .kGlFEZ .markdown-body .pl-c{color:#6a737d;} .kGlFEZ .markdown-body .pl-c1,.kGlFEZ .markdown-body .pl-s .pl-v{color:#005cc5;} .kGlFEZ .markdown-body .pl-e,.kGlFEZ .markdown-body .pl-en{color:#6f42c1;} .kGlFEZ .markdown-body .pl-s .pl-s1,.kGlFEZ .markdown-body .pl-smi{color:#24292e;} .kGlFEZ .markdown-body .pl-ent{color:#22863a;} .kGlFEZ .markdown-body .pl-k{color:#d73a49;} .kGlFEZ .markdown-body .pl-pds,.kGlFEZ .markdown-body .pl-s,.kGlFEZ .markdown-body .pl-s .pl-pse .pl-s1,.kGlFEZ .markdown-body .pl-sr,.kGlFEZ .markdown-body .pl-sr .pl-cce,.kGlFEZ .markdown-body .pl-sr .pl-sra,.kGlFEZ .markdown-body .pl-sr .pl-sre{color:#032f62;} .kGlFEZ .markdown-body .pl-smw,.kGlFEZ .markdown-body .pl-v{color:#e36209;} .kGlFEZ .markdown-body .pl-bu{color:#b31d28;} .kGlFEZ .markdown-body .pl-ii{background-color:#b31d28;color:#fafbfc;} .kGlFEZ .markdown-body .pl-c2{background-color:#d73a49;color:#fafbfc;} .kGlFEZ .markdown-body .pl-c2:before{content:'^M';} .kGlFEZ .markdown-body .pl-sr .pl-cce{color:#22863a;font-weight:700;} .kGlFEZ .markdown-body .pl-ml{color:#735c0f;} .kGlFEZ .markdown-body .pl-mh,.kGlFEZ .markdown-body .pl-mh .pl-en,.kGlFEZ .markdown-body .pl-ms{color:#005cc5;font-weight:700;} .kGlFEZ .markdown-body .pl-mi{color:#24292e;font-style:italic;} .kGlFEZ .markdown-body .pl-mb{color:#24292e;font-weight:700;} .kGlFEZ .markdown-body .pl-md{background-color:#ffeef0;color:#b31d28;} .kGlFEZ .markdown-body .pl-mi1{background-color:#f0fff4;color:#22863a;} .kGlFEZ .markdown-body .pl-mc{background-color:#ffebda;color:#e36209;} .kGlFEZ .markdown-body .pl-mi2{background-color:#005cc5;color:#f6f8fa;} .kGlFEZ .markdown-body .pl-mdr{color:#6f42c1;font-weight:700;} .kGlFEZ .markdown-body .pl-ba{color:#586069;} .kGlFEZ .markdown-body .pl-sg{color:#959da5;} .kGlFEZ .markdown-body .pl-corl{color:#032f62;-webkit-text-decoration:underline;text-decoration:underline;} .kGlFEZ .markdown-body details{display:block;} .kGlFEZ .markdown-body summary{display:list-item;} .kGlFEZ .markdown-body a{background-color:transparent;} .kGlFEZ .markdown-body a:active,.kGlFEZ .markdown-body a:hover{outline-width:0;} .kGlFEZ .markdown-body strong{font-weight:inherit;font-weight:bolder;} .kGlFEZ .markdown-body h1{font-size:2em;margin:0.67em 0;} .kGlFEZ .markdown-body img{border-style:none;} .kGlFEZ .markdown-body code,.kGlFEZ .markdown-body kbd,.kGlFEZ .markdown-body pre{font-family:'Source Code Pro','Noto Sans KR',monospace;font-size:1em;} .kGlFEZ .markdown-body hr{box-sizing:content-box;height:0;overflow:visible;} .kGlFEZ .markdown-body input{font:inherit;margin:0;} .kGlFEZ .markdown-body input{overflow:visible;} .kGlFEZ .markdown-body [type='checkbox']{box-sizing:border-box;padding:0;} .kGlFEZ .markdown-body *{box-sizing:border-box;} .kGlFEZ .markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit;} .kGlFEZ .markdown-body a{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;} .kGlFEZ .markdown-body a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .kGlFEZ .markdown-body strong{font-weight:600;} .kGlFEZ .markdown-body hr{background:transparent;border:0;border-bottom:1px solid #dfe2e5;height:0;margin:15px 0;overflow:hidden;} .kGlFEZ .markdown-body hr:before{content:'';display:table;} .kGlFEZ .markdown-body hr:after{clear:both;content:'';display:table;} .kGlFEZ .markdown-body table{border-collapse:collapse;border-spacing:0;} .kGlFEZ .markdown-body td,.kGlFEZ .markdown-body th{padding:0;} .kGlFEZ .markdown-body details summary{cursor:pointer;} .kGlFEZ .markdown-body h1,.kGlFEZ .markdown-body h2,.kGlFEZ .markdown-body h3,.kGlFEZ .markdown-body h4,.kGlFEZ .markdown-body h5,.kGlFEZ .markdown-body h6{margin-bottom:0;margin-top:0;} .kGlFEZ .markdown-body h1{font-size:32px;} .kGlFEZ .markdown-body h1,.kGlFEZ .markdown-body h2{font-weight:600;} .kGlFEZ .markdown-body h2{font-size:24px;margin-top:36px;} .kGlFEZ .markdown-body h3{font-size:20px;margin-top:32px;} .kGlFEZ .markdown-body h3,.kGlFEZ .markdown-body h4{font-weight:600;} .kGlFEZ .markdown-body h4{font-size:16px;margin-top:22px;} .kGlFEZ .markdown-body h5{font-size:14px;margin-top:20px;} .kGlFEZ .markdown-body h5,.kGlFEZ .markdown-body h6{font-weight:600;} .kGlFEZ .markdown-body h6{font-size:12px;margin-top:18px;} .kGlFEZ .markdown-body p{line-height:28px;margin-bottom:24px;margin-top:0;} .kGlFEZ .markdown-body blockquote{margin:0;} .kGlFEZ .markdown-body ol,.kGlFEZ .markdown-body ul{margin-bottom:0;margin-top:0;padding-left:0;} .kGlFEZ .markdown-body ol ol,.kGlFEZ .markdown-body ul ol{list-style-type:lower-roman;} .kGlFEZ .markdown-body ol ol ol,.kGlFEZ .markdown-body ol ul ol,.kGlFEZ .markdown-body ul ol ol,.kGlFEZ .markdown-body ul ul ol{list-style-type:lower-alpha;} .kGlFEZ .markdown-body dd{margin-left:0;} .kGlFEZ .markdown-body code,.kGlFEZ .markdown-body pre{font-family:'Source Code Pro','Noto Sans KR',monospace;font-size:12px;} .kGlFEZ .markdown-body pre{margin-bottom:0;margin-top:0;} .kGlFEZ .markdown-body .footnotes p{display:inline;} .kGlFEZ .markdown-body input::-webkit-inner-spin-button,.kGlFEZ .markdown-body input::-webkit-outer-spin-button{-webkit-appearance:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0;} .kGlFEZ .markdown-body .border{border:1px solid #e1e4e8 !important;} .kGlFEZ .markdown-body .border-0{border:0 !important;} .kGlFEZ .markdown-body .border-bottom{border-bottom:1px solid #e1e4e8 !important;} .kGlFEZ .markdown-body .rounded-1{border-radius:3px !important;} .kGlFEZ .markdown-body .bg-white{background-color:#fff !important;} .kGlFEZ .markdown-body .bg-gray-light{background-color:#fafbfc !important;} .kGlFEZ .markdown-body .text-gray-light{color:#6a737d !important;} .kGlFEZ .markdown-body .mb-0{margin-bottom:0 !important;} .kGlFEZ .markdown-body .my-2{margin-bottom:8px !important;margin-top:8px !important;} .kGlFEZ .markdown-body .pl-0{padding-left:0 !important;} .kGlFEZ .markdown-body .py-0{padding-bottom:0 !important;padding-top:0 !important;} .kGlFEZ .markdown-body .pl-1{padding-left:4px !important;} .kGlFEZ .markdown-body .pl-2{padding-left:8px !important;} .kGlFEZ .markdown-body .py-2{padding-bottom:8px !important;padding-top:8px !important;} .kGlFEZ .markdown-body .pl-3,.kGlFEZ .markdown-body .px-3{padding-left:16px !important;} .kGlFEZ .markdown-body .px-3{padding-right:16px !important;} .kGlFEZ .markdown-body .pl-4{padding-left:24px !important;} .kGlFEZ .markdown-body .pl-5{padding-left:32px !important;} .kGlFEZ .markdown-body .pl-6{padding-left:40px !important;} .kGlFEZ .markdown-body .f6{font-size:12px !important;} .kGlFEZ .markdown-body .lh-condensed{line-height:1.25 !important;} .kGlFEZ .markdown-body .text-bold{font-weight:600 !important;} .kGlFEZ .markdown-body:before{content:'';display:table;} .kGlFEZ .markdown-body:after{clear:both;content:'';display:table;} .kGlFEZ .markdown-body >:first-child{margin-top:0 !important;} .kGlFEZ .markdown-body >:last-child{margin-bottom:0 !important;} .kGlFEZ .markdown-body a:not([href]){color:inherit;-webkit-text-decoration:none;text-decoration:none;} .kGlFEZ .markdown-body blockquote,.kGlFEZ .markdown-body dl,.kGlFEZ .markdown-body ol,.kGlFEZ .markdown-body p,.kGlFEZ .markdown-body pre,.kGlFEZ .markdown-body table,.kGlFEZ .markdown-body ul{margin-bottom:32px;margin-top:0;} .kGlFEZ .markdown-body hr{background-color:#e1e4e8;border:0;height:0.25em;margin:24px 0;padding:0;} .kGlFEZ .markdown-body blockquote{border-left:0.25em solid #dfe2e5;color:#6a737d;padding:0 1em;} .kGlFEZ .markdown-body blockquote >:first-child{margin-top:0;} .kGlFEZ .markdown-body blockquote >:last-child{margin-bottom:0;} .kGlFEZ .markdown-body kbd{background-color:#fafbfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5;color:#444d56;display:inline-block;font-size:11px;line-height:10px;padding:3px 5px;vertical-align:middle;} .kGlFEZ .markdown-body h1,.kGlFEZ .markdown-body h2,.kGlFEZ .markdown-body h3,.kGlFEZ .markdown-body h4,.kGlFEZ .markdown-body h5,.kGlFEZ .markdown-body h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:44px;} .kGlFEZ .markdown-body h1{font-size:2em;} .kGlFEZ .markdown-body h1,.kGlFEZ .markdown-body h2{border-bottom:1px solid #eaecef;padding-bottom:0.3em;} .kGlFEZ .markdown-body h2{font-size:1.5em;} .kGlFEZ .markdown-body h3{font-size:1.15em;font-weight:400;} .kGlFEZ .markdown-body h4{font-size:1em;} .kGlFEZ .markdown-body h5{font-size:0.875em;} .kGlFEZ .markdown-body h6{color:#6a737d;font-size:0.85em;} .kGlFEZ .markdown-body ol,.kGlFEZ .markdown-body ul{padding-left:2em;} .kGlFEZ .markdown-body ol ol,.kGlFEZ .markdown-body ol ul,.kGlFEZ .markdown-body ul ol,.kGlFEZ .markdown-body ul ul{margin-bottom:0;margin-top:0;} .kGlFEZ .markdown-body li{word-wrap:break-all;} .kGlFEZ .markdown-body li > p{margin-top:0;margin-bottom:0;} .kGlFEZ .markdown-body li + li{margin-top:0.25em;} .kGlFEZ .markdown-body dl{padding:0;} .kGlFEZ .markdown-body dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0;} .kGlFEZ .markdown-body dl dd{margin-bottom:16px;padding:0 16px;} .kGlFEZ .markdown-body table{display:block;overflow:auto;width:100%;} .kGlFEZ .markdown-body table th{font-weight:600;} .kGlFEZ .markdown-body table td,.kGlFEZ .markdown-body table th{border:1px solid #dfe2e5;padding:6px 13px;} .kGlFEZ .markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1;} .kGlFEZ .markdown-body table tr:nth-child(2n){background-color:#f6f8fa;} .kGlFEZ .markdown-body img{background-color:#fff;box-sizing:content-box;max-width:100%;} .kGlFEZ .markdown-body img[align='right']{padding-left:20px;} .kGlFEZ .markdown-body img[align='left']{padding-right:20px;} .kGlFEZ .markdown-body code{background-color:rgba(27,31,35,0.05);border-radius:3px;font-size:85%;margin:0;padding:0.2em 0.4em;} .kGlFEZ .markdown-body pre{word-wrap:normal;} .kGlFEZ .markdown-body pre > code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal;} .kGlFEZ .markdown-body .highlight{margin-bottom:16px;} .kGlFEZ .markdown-body .highlight pre{margin-bottom:0;word-break:normal;} .kGlFEZ .markdown-body .highlight pre,.kGlFEZ .markdown-body pre{background-color:#f6f8fa;border-radius:3px;font-size:85%;line-height:1.45;overflow:auto;padding:16px;box-shadow:0 4px 5px -2px rgba(41,42,43,0.2);} .kGlFEZ .markdown-body pre code{background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0;word-wrap:normal;} .kGlFEZ .markdown-body .commit-tease-sha{color:#444d56;display:inline-block;font-family:'Source Code Pro','Noto Sans KR',monospace;font-size:90%;} .kGlFEZ .markdown-body .blob-wrapper{border-bottom-left-radius:3px;border-bottom-right-radius:3px;overflow-x:auto;overflow-y:hidden;} .kGlFEZ .markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto;} .kGlFEZ .markdown-body .blob-num{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:rgba(27,31,35,0.3);cursor:pointer;font-family:'Source Code Pro','Noto Sans KR',monospace;font-size:12px;line-height:20px;min-width:50px;padding-left:10px;padding-right:10px;text-align:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;white-space:nowrap;width:1%;} .kGlFEZ .markdown-body .blob-num:hover{color:rgba(27,31,35,0.6);} .kGlFEZ .markdown-body .blob-num:before{content:attr(data-line-number);} .kGlFEZ .markdown-body .blob-code{line-height:20px;padding-left:10px;padding-right:10px;position:relative;vertical-align:top;} .kGlFEZ .markdown-body .blob-code-inner{color:#24292e;font-family:'Source Code Pro','Noto Sans KR',monospace;font-size:12px;overflow:visible;white-space:pre;word-wrap:normal;} .kGlFEZ .markdown-body .pl-token.active,.kGlFEZ .markdown-body .pl-token:hover{background:#ffea7f;cursor:pointer;} .kGlFEZ .markdown-body kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;box-shadow:inset 0 -1px 0 #c6cbd1;color:#444d56;display:inline-block;font-family:'Source Code Pro','Noto Sans KR',monospace;font-size:11px;line-height:10px;padding:3px 5px;vertical-align:middle;} .kGlFEZ .markdown-body:checked + .radio-label{border-color:#0366d6;position:relative;z-index:1;} .kGlFEZ .markdown-body .tab-size[data-tab-size='1']{-moz-tab-size:1;tab-size:1;} .kGlFEZ .markdown-body .tab-size[data-tab-size='2']{-moz-tab-size:2;tab-size:2;} .kGlFEZ .markdown-body .tab-size[data-tab-size='3']{-moz-tab-size:3;tab-size:3;} .kGlFEZ .markdown-body .tab-size[data-tab-size='4']{-moz-tab-size:4;tab-size:4;} .kGlFEZ .markdown-body .tab-size[data-tab-size='5']{-moz-tab-size:5;tab-size:5;} .kGlFEZ .markdown-body .tab-size[data-tab-size='6']{-moz-tab-size:6;tab-size:6;} .kGlFEZ .markdown-body .tab-size[data-tab-size='7']{-moz-tab-size:7;tab-size:7;} .kGlFEZ .markdown-body .tab-size[data-tab-size='8']{-moz-tab-size:8;tab-size:8;} .kGlFEZ .markdown-body .tab-size[data-tab-size='9']{-moz-tab-size:9;tab-size:9;} .kGlFEZ .markdown-body .tab-size[data-tab-size='10']{-moz-tab-size:10;tab-size:10;} .kGlFEZ .markdown-body .tab-size[data-tab-size='11']{-moz-tab-size:11;tab-size:11;} .kGlFEZ .markdown-body .tab-size[data-tab-size='12']{-moz-tab-size:12;tab-size:12;} .kGlFEZ .markdown-body .task-list-item{list-style-type:none;} .kGlFEZ .markdown-body .task-list-item + .task-list-item{margin-top:3px;} .kGlFEZ .markdown-body .task-list-item input{margin:0 0.2em 0.25em -1.6em;vertical-align:middle;} .kGlFEZ .markdown-body hr{border-bottom-color:#eee;} .kGlFEZ .markdown-body .pl-0{padding-left:0 !important;} .kGlFEZ .markdown-body .pl-1{padding-left:4px !important;} .kGlFEZ .markdown-body .pl-2{padding-left:8px !important;} .kGlFEZ .markdown-body .pl-3{padding-left:16px !important;} .kGlFEZ .markdown-body .pl-4{padding-left:24px !important;} .kGlFEZ .markdown-body .pl-5{padding-left:32px !important;} .kGlFEZ .markdown-body .pl-6{padding-left:40px !important;} .kGlFEZ .markdown-body .pl-7{padding-left:48px !important;} .kGlFEZ .markdown-body .pl-8{padding-left:64px !important;} .kGlFEZ .markdown-body .pl-9{padding-left:80px !important;} .kGlFEZ .markdown-body .pl-10{padding-left:96px !important;} .kGlFEZ .markdown-body .pl-11{padding-left:112px !important;} .kGlFEZ .markdown-body .pl-12{padding-left:128px !important;}
/* sc-component-id: post__PostHeader-sc-1sfv28x-1 */
.bFOsCX{padding:32px 8px;text-align:center;}
/* sc-component-id: post__PostTitle-sc-1sfv28x-2 */
.gUlJEp{font-size:32px;font-weight:bold;color:#3e4042;line-height:40px;-webkit-letter-spacing:-0.6px;-moz-letter-spacing:-0.6px;-ms-letter-spacing:-0.6px;letter-spacing:-0.6px;margin:0;margin:16px 0;}
/* sc-component-id: post__PostDate-sc-1sfv28x-3 */
.jdkpkB{margin-bottom:16px;}
/* sc-component-id: post__PostTOC-sc-1sfv28x-4 */
.dWSCZy{font-size:14px;font-weight:normal;color:#3e4042;line-height:20px;-webkit-letter-spacing:-0.2px;-moz-letter-spacing:-0.2px;-ms-letter-spacing:-0.2px;letter-spacing:-0.2px;margin:0;margin:16px 0;padding:16px 0;line-height:26px;border:#bdc2c6 solid 1px;} .dWSCZy a{color:inherit;-webkit-text-decoration:none;text-decoration:none;} .dWSCZy a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .dWSCZy ul,.dWSCZy ol{margin:0 0 0 8px;list-style-type:decimal;} .dWSCZy p{margin:0;}
/* sc-component-id: post__PostBody-sc-1sfv28x-5 */
.ceeZup{margin:16px 0;}
/* sc-component-id: post__PostFooter-sc-1sfv28x-6 */
.gEKJQZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;} @media (max-width:425px){.gEKJQZ{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}
/* sc-component-id: post__PostNavigator-sc-1sfv28x-7 */
.lhRAoc{display:block;position:relative;-webkit-flex:1;-ms-flex:1;flex:1;background:black;opacity:0.99;} .lhRAoc img{z-index:1;opacity:0.5;} .lhRAoc:hover img{-webkit-transition:-webkit-transform 0.3s ease-in;-webkit-transition:transform 0.3s ease-in;transition:transform 0.3s ease-in;-webkit-transform:scale(1.025);-ms-transform:scale(1.025);transform:scale(1.025);}
/* sc-component-id: post__PostNavigatorTitle-sc-1sfv28x-8 */
.dBDefs{font-size:19px;position:absolute;top:50%;margin-top:-39px;text-align:center;width:100%;font-weight:800;color:white;z-index:2;} .dBDefs span{font-weight:400;} .dBDefs b{font-weight:600;}</style><link as="script" rel="preload" href="/component---src-templates-post-tsx-c94eddf0fc3c3e8c57cc.js"/><link as="script" rel="preload" href="/12-363ce47a5cc4cb526ffe.js"/><link as="script" rel="preload" href="/0-9da074a2ae788350ccf5.js"/><link as="script" rel="preload" href="/app-b7ff6590f9bf92da68bc.js"/><link as="script" rel="preload" href="/styles-672d624a319f9e44eab1.js"/><link as="script" rel="preload" href="/webpack-runtime-fc9784a1e968cce5c8b8.js"/><link as="fetch" rel="preload" href="/page-data/ko/blog/2019/07/16/esmond/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="root Layout__Root-sc-50n0nv-0 jGmALK"><nav class="Header__NavConatiner-sc-938f43-0 jltglz"><div class="sc-cMhqgX kUFcze"><div class="sc-hZSUBg bwAdMP"><div class="sc-bsbRJL DNFnA"><div class="Header__NavInnerContainer-sc-938f43-1 iBrsbu"><a class="Header__NoHoverLink-sc-938f43-3 fRkQwK" href="/ko/"><img src="/images/symbol-black.png" alt="class101" class="Header__LogoIcon-sc-938f43-2 fIzunj"/></a><div class="SearchInput__AutoCompleteContainer-sc-1d7gc1p-0 chJCBg"><input placeholder="제목 및 내용을 입력하세요" class="SearchInput__StyledInput-sc-1d7gc1p-3 UMvQk"/></div><div class="Header__MenuContainer-sc-938f43-4 btnDQV"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#858a8d" fill-rule="evenodd" d="M3 8h18V6H3v2zm0 5h18v-2H3v2zm0 5h18v-2H3v2z"></path></svg></div></div></div></div></div></nav><main class="Layout__Main-sc-50n0nv-1 jVcMoj"><div class="sc-cMhqgX kUFcze"><div class="sc-hZSUBg bwAdMP"><div class="sc-bsbRJL DNFnA"><div class="post__PostContainer-sc-1sfv28x-0 kGlFEZ"><div class="post__PostHeader-sc-1sfv28x-1 bFOsCX"><div class="ShareButtons__Wrapper-sc-6atok7-0 dHnwaE"><div class="ShareButtons__ButtonWrapper-sc-6atok7-1 fVbhVU"><div aria-label="facebook" role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--facebook"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--facebook "><g><circle cx="32" cy="32" r="31" fill="#3b5998"></circle></g><g><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z" fill="white"></path></g></svg></div></div></div><div class="ShareButtons__ButtonWrapper-sc-6atok7-1 fVbhVU"><div aria-label="twitter" role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--twitter"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--twitter "><g><circle cx="32" cy="32" r="31" fill="#00aced"></circle></g><g><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></g></svg></div></div></div><div class="ShareButtons__ButtonWrapper-sc-6atok7-1 fVbhVU"><div aria-label="linkedin" role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--linkedin"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--linkedin "><g><circle cx="32" cy="32" r="31" fill="#007fb1"></circle></g><g><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white"></path></g></svg></div></div></div><div class="ShareButtons__ButtonWrapper-sc-6atok7-1 fVbhVU"><div aria-label="email" role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--email"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--email "><g><circle cx="32" cy="32" r="31" fill="#7f7f7f"></circle></g><g><path d="M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z" fill="white"></path></g></svg></div></div></div></div><a class="LinkTag__StyledLink-o5p4f2-0 bdPnbg" href="/ko/tags/typescript/">Typescript<!-- --> </a><a class="LinkTag__StyledLink-o5p4f2-0 bdPnbg" href="/ko/tags/monorepo/">Monorepo<!-- --> </a><h1 class="post__PostTitle-sc-1sfv28x-2 gUlJEp">TF-IDF를 활용한 클래스 유사도 분석과 추천 서버 구축 1편</h1><div class="post__PostDate-sc-1sfv28x-3 jdkpkB sc-bdVaJa hBKkTB">2019-07-16</div></div><div class="post__PostTOC-sc-1sfv28x-4 dWSCZy"><ul>
<li><a href="//#overview">Overview</a></li>
<li><a href="//#%EA%B0%9C%EB%B0%9C-%EB%B0%B0%EA%B2%BD-%EB%B0%8F-%EB%AA%A9%ED%91%9C">개발 배경 및 목표</a></li>
<li>
<p><a href="//#%EA%B0%9D%EC%B2%B4-%EC%88%98%EC%B9%98%ED%99%94%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%9C%A0%EC%82%AC%EB%8F%84-%EC%B8%A1%EC%A0%95%EB%B2%95-%EC%A1%B0%EC%82%AC">객체 수치화를 위한 유사도 측정법 조사</a></p>
<ul>
<li><a href="//#euclidean-distance">Euclidean Distance</a></li>
<li><a href="//#manhattan-distance">Manhattan Distance</a></li>
<li><a href="//#cosine-similarity">Cosine Similarity</a></li>
</ul>
</li>
<li><a href="//#%EA%B0%9C%EB%B0%9C-%EA%B3%BC%EC%A0%95">개발 과정</a></li>
<li><a href="//#conclusion">Conclusion</a></li>
<li><a href="//#%EC%B0%B8%EA%B3%A0">참고</a></li>
<li><a href="//#%EC%B0%B8%EA%B3%A0%EB%AC%B8%ED%97%8C">참고문헌</a></li>
</ul></div><div class="markdown-body post__PostBody-sc-1sfv28x-5 ceeZup"><h2><span id="overview">Overview</span></h2>
<p>클래스101에서 추천 서버를 담당하고 있는 Esmond입니다. 최근에 TF-IDF(Term Frequency - Inverse Document Frequency)를 활용해 클래스 간의 유사도를 분석하고 이를 API로 올렸습니다. 그 개발 과정과 이를 통해 앞으로 개선할 점을 두 편의 글로 쓰겠습니다.</p>
<h2><span id="%EA%B0%9C%EB%B0%9C-%EB%B0%B0%EA%B2%BD-%EB%B0%8F-%EB%AA%A9%ED%91%9C">개발 배경 및 목표</span></h2>
<p>클래스101 앱에서 볼 수 있는 수백 개의 클래스를 어떻게 분류할 수 있을까요? 우리는 크게 두 가지의 기준을 가지고 있습니다.</p>
<p>첫째, 클래스가 처음 제작될 때 지정되는 클래스의 카테고리로 분류한다.</p>
<p>둘째, 클래스 오픈이 확정된 이후 비슷한 주제로 엮이는 클래스의 컬렉션으로 분류한다.</p>
<p>요즘은 클래스101이 빠르게 성장하면서 늘어난 유저에게 카테고리나 컬렉션과 같이 간단한 추천만 하기엔 역부족으로 보입니다. 보다 구체적으로 추천할 수 있는 로직이 필요해졌기에, 개발팀에서는 ‘클래스 간의 유사도’라는 지표를 분석하고 활용해보기로 결정했습니다. 이번 개발로 우리는 세 가지의 기능을 구현하기로 했습니다.</p>
<ul>
<li>모든 클래스에 대해 유사도가 높은 N개의 클래스를 DB에 저장한다.</li>
<li>클래스가 추가될 때마다 자동으로 해당 데이터를 갱신한다.</li>
<li>API로 오픈되어 어플리케이션 Layer에서 쉽게 접근할 수 있도록 한다.</li>
</ul>
<h2><span id="%EA%B0%9D%EC%B2%B4-%EC%88%98%EC%B9%98%ED%99%94%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%9C%A0%EC%82%AC%EB%8F%84-%EC%B8%A1%EC%A0%95%EB%B2%95-%EC%A1%B0%EC%82%AC">객체 수치화를 위한 유사도 측정법 조사</span></h2>
<p>클래스 간의 유사도를 추출하려면 먼저 유사도를 측정하는 여러가지 방법들을 알아야 합니다. 지금부터 소개하는 Euclidean Distance, Manhattan Distance, Cosine Similarity는 자주 쓰이는 유사도 측정법입니다.</p>
<h3><span id="euclidean-distance">Euclidean Distance</span></h3>
<p>가장 간단하고도 유명한 방법으로, 두 벡터 간의 직선 거리를 측정하는 방식입니다. 2차원에서는 피타고라스 정의로도 유명한 바로 그 방법입니다. 점 p = (p1, p2, …, pn), q = (q1, q2, …, qn) 에 대하여</p>
<p>
  <a class="gatsby-resp-image-link" href="/static/49747e27a04f569280364649225b30cf/062c7/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png" style="display:block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;max-width:459px;margin-left:auto;margin-right:auto">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:8.714596949891067%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAUUlEQVQI103NSQqAQBBD0YgLpRXBoaWdQAXp+9/QL2Th4lFQJFWSNKBFgQsJB1bcGD0DSjzImJ3LznzdE9rQoPciONxhQYUd9a84+Xj0Y7kTXxlpA1zY5MEDAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block">
      <img class="gatsby-resp-image-image" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white" alt="Untitled d230bf87 2140 4196 8e40 871c0ac265de" title="" src="/static/49747e27a04f569280364649225b30cf/062c7/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png" srcSet="/static/49747e27a04f569280364649225b30cf/cf440/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 148w,
/static/49747e27a04f569280364649225b30cf/d2d38/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 295w,
/static/49747e27a04f569280364649225b30cf/062c7/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 459w" sizes="(max-width: 459px) 100vw, 459px"/>
    </span>
  </span>
  
  </a>
    </p>
<p>와 같이 계산합니다.</p>
<h3><span id="manhattan-distance">Manhattan Distance</span></h3>
<p>Taxicab geometry라고도 합니다. 다음과 같이 정사각형으로 나뉜 공간에서 좌표로 표시된 한 점이 다른 한 점으로 가는 길의 거리입니다.</p>
<p>
  <a class="gatsby-resp-image-link" href="/static/8d9d444544155b7d57bdb9b8e829d3da/9ec3c/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png" style="display:block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;max-width:200px;margin-left:auto;margin-right:auto">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAE3klEQVQ4yzVVXWxTZRg+XBGuvNCoV0O5cVdgAndEZkATlEQk6qJCiIhMhMRkILiA2U9/oFtL27VdwbXrfmhX99P1+07Pb0972vXnrCtu6/gzbG4leoEihmziiCSjvu9p1+TN97Y9ffI97/M8bxkGXpFE4r3g/Hy93ieTTXi6nj17YVxVD2M/ks/vHs1m38Z+PJVqDNwvv4q9kBW/wXP6cfp1NT15kNkAi/f3P8lZLNOaweBTPZ7neZMpnO3slFJu97+FtjZP2uFYTDud5UJrqyvlcq1kurpSBZNhKGwaqniPTwRaDhjUr44efcpL0idMsFSqz1osBdXt7gXgI0I4vKz4/aflgQED9DeTXu9HYjBIxFBIUHt6DvKh8M/y4KCVOAMnHAa5PGpTj31tOxzpsDTOcZHSm/otNaOxFwCOYE85btaxvr4Z6G4nPB/Hz4ggtEJZsOfkGEnNkgbsu7u1eWaNqeuZ++7UXc09sEG5CWiuw22WCMfNsJSuQd2Euge1ClWEekAI+6fAk+neXmXFZs0s2izaTPO1vmc+0b+o0MgvCcG1HiHKWR00bzaH4kDTXqlshh/fopRuhdoLlcbvWZZ2xWLUjb3ZnBeNF0qHXoztfOtazLdU+bGyRRKuHs3FL08wG2qCACLODGkC4AKCsSz7BaVsEcC2wdkXDImhTnOhztReTJ6K/mA3Fc58KlFxIUzEXXG+/3xGtqr+n35/mRlPJg+jmigAzgxpAuAkgkH9zXFEGBqSykbDVNneqXHfXu1b8cZ652UqKYQlTwjlEwIXnlMl91okmjip33Kqrc2Naur0KL1Ro7kNwbD3uFPfd9umjNj7E550KTqzvfZMCc+05NyrKcaADjaSy+0Gjy2CLQgo2QaAf8CDVqSJNwOwliudWqI54F1wJWxOYUK+AzcbhpFcguceEioYRC44AqDLYxOT7zKYAABcBkAerUEJ+xAFCIaEoMmolV02zdDc711w095plSYuANgSS9kxyrJ2liWPKOWsEnc9mpa6fxuLpt/XbwkJcKreng/1OPGkiGfX5ak6e5cW04VL2BwAdrFKkx2BGe/Q/UkFnXKcDzRoisGng4GyjSDKCj8cngHTUp9PWbl0KS+bO4oqCuBXeiZrNJcBbAxo4kgKlMb4hHhtFewSyyumaVX0rEaiyS8ZCPorGatVlYcGrek50nDFlvnVdLF0CK2BaqIAABaqgrE7AGwKwFpELrQfrHI/I9v2yfxAe4yN5gjltlYpmw0DpLv/BPYgwOxLsV170GdgjXiNphnKXlOWA6vsf3Bj9xaY252dZyqbJojcCCKOMrUVdHIYtoa9Qy47HVoJ44QJANPeI5T8AwBzqCbUX+CAWTjBp2yZi43fViXPU3h/Cz7HcVRgtud00J7jUf8IbA0MOmaz4qtswQQABaU2/A4oa7Xn2PFocl/lEbMJrHJbXyiUPQTAYR2s+Dj92vkDhmQTrCDYGqcx6JhNjBMmAE2LPoOZRSdl+x6BGy6ATdqz8a5GmF8ZwcBClupsaT2TSmc+wOWI++yu5hlMCO7nubglitkESmugYABmtYw+gzT4UpJ7dVK+kod+VBECFbhxGMGg/gPAz6tzlKWPN5bjBFHO6BGDoEM29b8DSMA7G6YFaxy7Pnpra/VZ+VyN8htwy8+w/x+0tIcUAntFYAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block">
      <img class="gatsby-resp-image-image" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white" alt="Untitled 6d28fa68 102f 48d2 81df d940175de695" title="" src="/static/8d9d444544155b7d57bdb9b8e829d3da/9ec3c/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png" srcSet="/static/8d9d444544155b7d57bdb9b8e829d3da/cf440/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png 148w,
/static/8d9d444544155b7d57bdb9b8e829d3da/9ec3c/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png 200w" sizes="(max-width: 200px) 100vw, 200px"/>
    </span>
  </span>
  
  </a>
    </p>
<p>점 p = (p1, p2, …, pn), q = (q1, q2, …, qn) 에 대하여</p>
<p>
  <a class="gatsby-resp-image-link" href="/static/1b3fc841c5ac5cdfeea1646993690292/8af66/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png" style="display:block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;max-width:280px;margin-left:auto;margin-right:auto">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:19.642857142857142%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAZ0lEQVQY053PywqAIBCF4RZdaZGQRlDUIuhGm6L3f7Z+42xdlPAxKDNHjaLvK0aPPNQwYUSrmqHGigQGM0qk6HBqP+jMhztYH3hgU/CihgaXXuObblQKMZqxqj6s0KXux4/f0D00/ACRWwRBcvwksQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block">
      <img class="gatsby-resp-image-image" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white" alt="Untitled 57fb3268 3025 4198 95d2 bc75e2bf275c" title="" src="/static/1b3fc841c5ac5cdfeea1646993690292/8af66/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png" srcSet="/static/1b3fc841c5ac5cdfeea1646993690292/cf440/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png 148w,
/static/1b3fc841c5ac5cdfeea1646993690292/8af66/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png 280w" sizes="(max-width: 280px) 100vw, 280px"/>
    </span>
  </span>
  
  </a>
    </p>
<p>와 같이 계산합니다.</p>
<h3><span id="cosine-similarity">Cosine Similarity</span></h3>
<p>내적공간의 두 벡터에 대하여 벡터의 크기가 아닌 방향의 유사도를 판단하는 목적으로 사용합니다. 두 벡터의 방향이 비슷할 수록 유사도가 높다고 판단합니다. 두 벡터의 방향이 완전히 다를 경우(각도가 180°일 때)와 완전히 같을 경우(각도가 0°일 때)의 코사인 값 -1에서 1 사이의 값을 가집니다.</p>
<p>
  <a class="gatsby-resp-image-link" href="/static/a58e7dd6118987ed6ebe119ded9f2e73/8b59c/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png" style="display:block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;max-width:429px;margin-left:auto;margin-right:auto">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:27.272727272727277%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAsElEQVQY051QyQqFMBDr/3+aRw9KD+JW3MBdwT2SgfH2Li8QOknbkNbc943runCeJzgTz/PgOI5Pt22LoiiwLAsUPJ+mqexVVfX5xlqLMAyFvDTPM+I4Bv2u64S+78PzPARBgG3bvjPUfd9LIHXTNDBsQbKVzkpimiZkWYYoipAkiXh8EdsxQBvmeY66rmHwB8qylHAGcHXOiTcMAwyb/aL+p1Jbj+OIdV1l3vddtOIFFZSAJYwXWM0AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block">
      <img class="gatsby-resp-image-image" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white" alt="Untitled 477f1d55 4962 4ce0 a5b4 2ec9751bc69c" title="" src="/static/a58e7dd6118987ed6ebe119ded9f2e73/8b59c/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png" srcSet="/static/a58e7dd6118987ed6ebe119ded9f2e73/cf440/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 148w,
/static/a58e7dd6118987ed6ebe119ded9f2e73/d2d38/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 295w,
/static/a58e7dd6118987ed6ebe119ded9f2e73/8b59c/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 429w" sizes="(max-width: 429px) 100vw, 429px"/>
    </span>
  </span>
  
  </a>
    </p>
<p>와 같이 계산합니다.</p>
<p>위와 같은 유사도 측정법을 클래스에 적용하려면 먼저 클래스라는 개념적인 객체를 수치화하는 과정이 필요했습니다. 이 과정에서 활용되는 개념이 바로 벡터 공간 모델인 TF-IDF입니다. TF-IDF란 특정 Document에 등장하는 단어들이 해당 Document에서 얼마나 중요한지를 나타내는 통계적 수치입니다. 이 값이 높은 단어일수록 Document에서 중요한 단어라고 판단할 수 있습니다. 이 값은 TF(단어의 빈도)와 IDF(문서 빈도의 역수)의 곱으로 계산됩니다. 다시 말해 이 TF-IDF값을 활용하여 클래스를 Vectorization한 뒤 유사도를 측정하는 식으로 클래스 간 유사도를 계산한다고 할 수 있습니다. <a href="#footnote-1">[1]</a></p>
<h2><span id="%EA%B0%9C%EB%B0%9C-%EA%B3%BC%EC%A0%95">개발 과정</span></h2>
<p>클래스라는 객체는 클래스 제목, 클래스 설명, 오픈 예정일, 크리에이터… 등등 여러 가지 속성을 가지고 있습니다. 이 모든 속성들을 전부 반영하여 클래스라는 개념을 수치화할 수 있다면 정말 좋겠지만, 우선은 클래스 제목과 설명 값만 가지고 유사도를 구해보기로 했습니다. TF-IDF를 활용한 vectorization과 유사도 분석은 관련 내장 함수들이 잘 갖춰진 scikit-learn을 사용했습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">pip install scikit<span class="token operator">-</span>learn<span class="token operator">==</span><span class="token number">0.21</span><span class="token number">.1</span></code></pre></div>
<p>예제 문장에 대하여 TF-IDF를 활용해 Vectorization을 하고, 유사도(distance)를 구해보겠습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>feature_extraction<span class="token punctuation">.</span>text <span class="token keyword">import</span> TfidfVectorizer


doc_list <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&#x27;프리시즌 아시아 투어를 떠나는 토트넘은 싱가포르, 중국을 차례로 방문해 ICC 경기를 치른다.&#x27;</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;영국 &quot;풋볼 런던&quot;은 11일 &quot;토트넘이 ICC 첫 경기에서 가장 강력한 스쿼드로 유벤투스에 맞설 것&quot;이라고 평가했다.&#x27;</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;토트넘에 합류하는 손흥민은 유벤투스전 출전을 목표로 구슬땀을 흘릴 예정이다.&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

tfidf_vectorizer <span class="token operator">=</span> TfidfVectorizer<span class="token punctuation">(</span>min_df<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
tfidf_matrix <span class="token operator">=</span> tfidf_vectorizer<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>doc_list<span class="token punctuation">)</span>
doc_distances <span class="token operator">=</span> <span class="token punctuation">(</span>tfidf_matrix <span class="token operator">*</span> tfidf_matrix<span class="token punctuation">.</span>T<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>doc_distances<span class="token punctuation">.</span>toarray<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[[1.         0.04612956 0.        ]
    [0.04612956 1.         0.        ]
    [0.         0.         1.        ]]</code></pre></div>
<p>여기서 1은 자기 자신과의 유사도를 의미합니다. 자기 자신과, 문장 형태가 아주 비슷한 케이스를 제외하고는 유사도가 그리 높지 않은 것을 알 수 있습니다. 그렇다면 konlpy와 같은 패키지를 사용해 특정 품사(명사)만 추출하고 유사도를 개선해보겠습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">pip install konlpy<span class="token operator">==</span><span class="token number">0.5</span><span class="token number">.1</span>

<span class="token keyword">from</span> konlpy<span class="token punctuation">.</span>tag <span class="token keyword">import</span> Okt


okt <span class="token operator">=</span> Okt<span class="token punctuation">(</span><span class="token punctuation">)</span>

doc_nouns_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>okt<span class="token punctuation">.</span>nouns<span class="token punctuation">(</span>doc<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> doc <span class="token keyword">in</span> doc_list<span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>doc_nouns_list<span class="token punctuation">)</span>

tfidf_vectorizer <span class="token operator">=</span> TfidfVectorizer<span class="token punctuation">(</span>min_df<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
tfidf_matrix <span class="token operator">=</span> tfidf_vectorizer<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>doc_nouns_list<span class="token punctuation">)</span>
doc_nouns_distances <span class="token operator">=</span> <span class="token punctuation">(</span>tfidf_matrix <span class="token operator">*</span> tfidf_matrix<span class="token punctuation">.</span>T<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>doc_nouns_distances<span class="token punctuation">.</span>toarray<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[
    &#x27;프리 시즌 아시아 투어 토트넘 싱가포르 중국 차례 방문 경기&#x27;,
    &#x27;영국 풋볼 런던 은 토트넘 첫 경기 가장 스 쿼드로 유벤투스 것 평가&#x27;,
    &#x27;토트넘 합류 손흥민 유벤투스 전 출전 목표 구슬 땀 예정&#x27;
]

[[1.         0.11327504 0.04435806]
    [0.11327504 1.         0.12859167]
    [0.04435806 0.12859167 1.        ]]</code></pre></div>
<p>결과를 보면 조금 더 정밀하게 유사도를 측정할 수 있게 되었다는 걸 알 수 있습니다.(a)</p>
<p>지금부터는 실제 클래스 데이터들 간의 유사도를 계산하겠습니다. 10개의 카테고리에 대해서 클래스를 10개씩 총 100개의 샘플 클래스를 선정했습니다. 이제 상호 간 유사도를 측정한 뒤, 유사도 상위 10개의 클래스에 대하여 카테고리 일치 비율을 살펴보겠습니다. 이제부터 클래스는 product로 명명합니다.</p>
<p>사전에 DB에서 다음과 같은 schema의 product 데이터 100개를 product_list 변수에 담아두었습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token punctuation">{</span>
    <span class="token string">&quot;product_id&quot;</span><span class="token punctuation">:</span> PRODUCT_ID<span class="token punctuation">,</span>
    <span class="token string">&quot;category_id&quot;</span><span class="token punctuation">:</span> CATEGORY_ID<span class="token punctuation">,</span>
    <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;일러스트레이터 집시의 매력적인 얼굴 그리기&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;어떻게 그려도 예쁘고 멋진 비율과 비례, 매력과 생명력을 좌우하는 눈 코 입의...&quot;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>이제 할 일은 다음과 같습니다.</p>
<ol>
<li>title과 description의 명사들을 추출하여 새로운 product dictionary 목록을 만든다.</li>
<li>title과 description에 대하여 각각 TfidfVectorizer로 vectorizing한 뒤 유사도를 계산하여 top 10개의 product id와 distance 값을 저장한다.</li>
<li>타겟 클래스와 카테고리가 일치하는 비율을 구한다.</li>
<li>100개의 샘플 데이터에 대하여 타겟 클래스와 카테고리가 일치하는 비율의 평균을 구한다.</li>
</ol>
<p>각각의 기능들을 구현한 메소드와 실행 결과입니다.</p>
<p>1.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> konlpy<span class="token punctuation">.</span>tag <span class="token keyword">import</span> Okt
<span class="token keyword">from</span> tqdm <span class="token keyword">import</span> tqdm_notebook


okt <span class="token operator">=</span> Okt<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">get_product_noun_list</span><span class="token punctuation">(</span>product_list<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token string">&quot;product_id&quot;</span><span class="token punctuation">:</span> product<span class="token punctuation">[</span><span class="token string">&#x27;product_id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;category_id&quot;</span><span class="token punctuation">:</span> product<span class="token punctuation">[</span><span class="token string">&#x27;category_id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;title_noun&quot;</span><span class="token punctuation">:</span> <span class="token string">&#x27; &#x27;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>okt<span class="token punctuation">.</span>nouns<span class="token punctuation">(</span>product<span class="token punctuation">[</span><span class="token string">&#x27;title&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">&quot;description_noun&quot;</span><span class="token punctuation">:</span> <span class="token string">&#x27; &#x27;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>okt<span class="token punctuation">.</span>nouns<span class="token punctuation">(</span>product<span class="token punctuation">[</span><span class="token string">&#x27;description&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span> <span class="token keyword">for</span> product <span class="token keyword">in</span> tqdm_notebook<span class="token punctuation">(</span>product_list<span class="token punctuation">)</span><span class="token punctuation">]</span>


product_noun_list <span class="token operator">=</span> get_product_noun_list<span class="token punctuation">(</span>product_list<span class="token punctuation">)</span></code></pre></div>
<p>
  <a class="gatsby-resp-image-link" href="/static/39a59ba9c903f143f64f44cb02f7da83/e9c61/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png" style="display:block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;max-width:590px;margin-left:auto;margin-right:auto">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:7.4074074074074066%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAMklEQVQI12O49fb2/wsvLv6/9PLS/4sE8JvPb/7//PHz/7dv3+D4+/fv/3/8+AGmQXwAcElJ9KIagQMAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block">
      <img class="gatsby-resp-image-image" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white" alt="Screen Shot 2019 07 12 at 7 751cae5a ea27 494e b280 8c20842038b0 56 48 PM" title="" src="/static/39a59ba9c903f143f64f44cb02f7da83/b9e4f/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png" srcSet="/static/39a59ba9c903f143f64f44cb02f7da83/cf440/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 148w,
/static/39a59ba9c903f143f64f44cb02f7da83/d2d38/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 295w,
/static/39a59ba9c903f143f64f44cb02f7da83/b9e4f/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 590w,
/static/39a59ba9c903f143f64f44cb02f7da83/f9b6a/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 885w,
/static/39a59ba9c903f143f64f44cb02f7da83/e9c61/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 1080w" sizes="(max-width: 590px) 100vw, 590px"/>
    </span>
  </span>
  
  </a>
    </p>
<p>jupyter notebook 환경에서 실행하면서 tqdm으로 iteration을 살펴봤습니다. 1초당 약 13.46 바퀴를 돌았고 100개의 데이터를 처리하는데 약 7초 정도가 걸렸습니다. 아마 konlpy 코어가 자바로 구성되어 JPype을 통해 자바를 돌리는 시간이 오래 걸린 것 같습니다.</p>
<p>2.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">tfidf_vectorizer <span class="token operator">=</span> TfidfVectorizer<span class="token punctuation">(</span>min_df<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">get_similar_products</span><span class="token punctuation">(</span>product_noun_list<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> field<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> top_n<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    output <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    tfidf_matrix <span class="token operator">=</span> tfidf_vectorizer<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span><span class="token punctuation">[</span>product<span class="token punctuation">[</span>field<span class="token punctuation">]</span> <span class="token keyword">for</span> product <span class="token keyword">in</span> product_noun_list<span class="token punctuation">]</span><span class="token punctuation">)</span>
    doc_distances <span class="token operator">=</span> <span class="token punctuation">(</span>tfidf_matrix <span class="token operator">*</span> tfidf_matrix<span class="token punctuation">.</span>T<span class="token punctuation">)</span>

    <span class="token keyword">for</span> idx<span class="token punctuation">,</span> distances <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>doc_distances<span class="token punctuation">.</span>toarray<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        top_similar_product_indices <span class="token operator">=</span> distances<span class="token punctuation">.</span>argsort<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token punctuation">(</span>top_n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
        output<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string">&quot;product_id&quot;</span><span class="token punctuation">:</span> product_noun_list<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;product_id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;top_similar_products&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                    <span class="token string">&quot;product_id&quot;</span><span class="token punctuation">:</span> product_noun_list<span class="token punctuation">[</span>similar_idx<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;product_id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;distance&quot;</span><span class="token punctuation">:</span> <span class="token builtin">round</span><span class="token punctuation">(</span>distances<span class="token punctuation">[</span>similar_idx<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">for</span> similar_idx <span class="token keyword">in</span> top_similar_product_indices<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> output

title_similar_products <span class="token operator">=</span> get_similar_products<span class="token punctuation">(</span>product_noun_list<span class="token punctuation">,</span> <span class="token string">&#x27;title_noun&#x27;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
description_similar_products <span class="token operator">=</span> get_similar_products_new<span class="token punctuation">(</span>product_noun_list<span class="token punctuation">,</span> <span class="token string">&#x27;title_noun&#x27;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>title_similar_products<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">{
    &#x27;product_id&#x27;: &#x27;xxxxx&#x27;,
    &#x27;top_similar_products&#x27;: [
        {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;distance&#x27;: 0.280641},
        {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;distance&#x27;: 0.182949},
        {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;distance&#x27;: 0.180826},
        {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;distance&#x27;: 0.156225},
        {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;distance&#x27;: 0.137592}
    ]
}</code></pre></div>
<p>product_id는 모두 xxxx로 표기했습니다.</p>
<p>3.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">CATEGORY_DICT <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> product <span class="token keyword">in</span> <span class="token punctuation">(</span>product_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CATEGORY_DICT<span class="token punctuation">[</span>product<span class="token punctuation">[</span><span class="token string">&#x27;product_id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> product<span class="token punctuation">[</span><span class="token string">&#x27;category_id&#x27;</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">get_ratio_list_of_same_category</span><span class="token punctuation">(</span>similar_products<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    ratio_list_of_same_category <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> target_product <span class="token keyword">in</span> similar_products<span class="token punctuation">:</span>
        category_of_target_product <span class="token operator">=</span> CATEGORY_DICT<span class="token punctuation">[</span>target_product<span class="token punctuation">[</span><span class="token string">&#x27;product_id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        category_list <span class="token operator">=</span> <span class="token punctuation">[</span>CATEGORY_DICT<span class="token punctuation">[</span>product<span class="token punctuation">[</span><span class="token string">&#x27;product_id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">for</span> product <span class="token keyword">in</span> target_product<span class="token punctuation">[</span><span class="token string">&#x27;top_similar_products&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

        same_category_ratio <span class="token operator">=</span> category_list<span class="token punctuation">.</span>count<span class="token punctuation">(</span>category_of_target_product<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">len</span><span class="token punctuation">(</span>category_list<span class="token punctuation">)</span>
        ratio_list_of_same_category<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string">&quot;product_id&quot;</span><span class="token punctuation">:</span> target_product<span class="token punctuation">[</span><span class="token string">&quot;product_id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;same_category_ratio&quot;</span><span class="token punctuation">:</span> same_category_ratio
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> ratio_list_of_same_category

title_ratio_list_of_same_category <span class="token operator">=</span> get_ratio_list_of_same_category<span class="token punctuation">(</span>title_similar_products<span class="token punctuation">)</span>
desc_ratio_list_of_same_category <span class="token operator">=</span> get_ratio_list_of_same_category<span class="token punctuation">(</span>description_similar_products<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>title_ratio_list_of_same_category<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[
    {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;same_category_ratio&#x27;: 0.3},
    {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;same_category_ratio&#x27;: 0.2},
    {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;same_category_ratio&#x27;: 0.4},
    {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;same_category_ratio&#x27;: 0.6},
    {&#x27;product_id&#x27;: &#x27;xxxx&#x27;, &#x27;same_category_ratio&#x27;: 0.4},
    ...
]</code></pre></div>
<p>4.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_avaerage_of_ratio</span><span class="token punctuation">(</span>ratio_list_of_same_category<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    ratio_list <span class="token operator">=</span> <span class="token punctuation">[</span>dc<span class="token punctuation">[</span><span class="token string">&#x27;same_category_ratio&#x27;</span><span class="token punctuation">]</span> <span class="token keyword">for</span> dc <span class="token keyword">in</span> ratio_list_of_same_category<span class="token punctuation">]</span>
    <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>ratio_list<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">len</span><span class="token punctuation">(</span>ratio_list<span class="token punctuation">)</span>

title_avaerage_of_ratio <span class="token operator">=</span> get_avaerage_of_ratio<span class="token punctuation">(</span>title_ratio_list_of_same_category<span class="token punctuation">)</span>
desc_avaerage_of_ratio <span class="token operator">=</span> get_avaerage_of_ratio<span class="token punctuation">(</span>desc_ratio_list_of_same_category<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;title 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">round</span><span class="token punctuation">(</span>title_avaerage_of_ratio<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;description 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">round</span><span class="token punctuation">(</span>desc_avaerage_of_ratio<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">title 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: 0.224
description 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: 0.425</code></pre></div>
<h2><span id="conclusion">Conclusion</span></h2>
<p>기존 카테고리 기반 클래스 군집화와 클래스 제목, 설명을 기준으로 유사도 분석 결과 비교까지 해봤습니다. 다음 글에서는 이렇게 구한 유사 클래스 목록을 DB에 저장하고 새로운 클래스가 추가될 때마다 데이터를 update하여 서버를 다시 시작하지 않아도 API를 지속적으로 제공하는 추천 서버의 배포 과정을 소개하겠습니다.</p>
<h2><span id="%EC%B0%B8%EA%B3%A0">참고</span></h2>
<p>(a) konlpy의 Okt(구 Twitter)는 여러 클래스 중 유일하게 pos tagging에서 토큰을 normalize하는 기능을 사용할 수 있다.</p>
<p>
  <a class="gatsby-resp-image-link" href="/static/4401cc05f124256703bc0d878e08d016/4bc72/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png" style="display:block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;max-width:590px;margin-left:auto;margin-right:auto">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:30.42121684867395%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABIElEQVQY04VRSU7EQAzM5+EXfABx5QQ3lBtX9kFkX3rNMpOeLJOiOtJwmAuWLHfbZbuqO0jSFFGcQCqNPL9GUT5CqQOkFKiFZF5CyBZV3WFZFpxOpz/393PubIFzDmmWI05SJOknsizCTxQhLwrEccx7zdoTMfeoKsWlBRJiq6rezr7Xu3NHzPOMwE/N8hxfu28y0WjbAdZOMLZhNOh7QOtnCHEH2+yZs8RJRtabBsZYKtKbmp7gwNNt224DOjdhXQ3jA2WMlANMU4hx3MGrGscj/rNgXVduVKSdcVtHKW8IwyvmSkov8P5xg5fXWypIyURy6Ajf44n4eOnB5Qbb9PyAw8a6FoLnPYf3KMsS2hg+BSVTntJ6qw/DsPX5Yd5+AQa1x3Tgw0kIAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block">
      <img class="gatsby-resp-image-image" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white" alt="Screen Shot 2019 07 12 at 5 f83b6304 cdd1 4a5a b5fe d5104eefe6b6 42 03 PM" title="" src="/static/4401cc05f124256703bc0d878e08d016/b9e4f/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png" srcSet="/static/4401cc05f124256703bc0d878e08d016/cf440/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 148w,
/static/4401cc05f124256703bc0d878e08d016/d2d38/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 295w,
/static/4401cc05f124256703bc0d878e08d016/b9e4f/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 590w,
/static/4401cc05f124256703bc0d878e08d016/4bc72/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 641w" sizes="(max-width: 590px) 100vw, 590px"/>
    </span>
  </span>
  
  </a>
    </p>
<h2><span id="%EC%B0%B8%EA%B3%A0%EB%AC%B8%ED%97%8C">참고문헌</span></h2>
<p><strong>논문 및 학술자료</strong></p>
<p><span id="footnote-1">[1]</span> Sasiporn Tongman ・ Niwan Wattanakitrungroj, &lt;Classifying Positive or Negative Text Using Features Based on Opinion Words and Term Frequency - Inverse Document Frequency&gt;, 5th International Conference on Advanced Informatics: Concept Theory and Applications (ICAICTA), 2018, p.161.</p>
<p><strong>웹사이트</strong></p>
<ul>
<li>Euclidean distance, Wikipedia, <a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank" rel="nofollow">https:// en.wikipedia.org/wiki/Euclidean_distance</a> 참조. (2019.07.12)</li>
<li>Taxicab geometry, Wikipedia, <a href="https://en.wikipedia.org/wiki/Taxicab_geometry" target="_blank" rel="nofollow">https:// en.wikipedia.org/wiki/Taxicab_geometry</a> 참조. (2019.07.12)</li>
<li>Cosine similarity, Wikipedia, <a href="https://en.wikipedia.org/wiki/Cosine_similarity" target="_blank" rel="nofollow">https:// en.wikipedia.org/wiki/Cosine_similarity</a> 참조. (2019.07.12)</li>
<li>TF-IDF, Wikipedia, <a href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf" target="_blank" rel="nofollow">https:// en.wikipedia.org/wiki/Tf–idf</a> 참조. (2019.07.12)</li>
<li>Okt class, KoNLPy, <a href="http://konlpy.org/en/latest/api/konlpy.tag/" target="_blank" rel="nofollow">http:// konlpy.org/en/latest/api/konlpy.tag/</a> 참조. (2019.07.12)</li>
</ul></div><div class="post__PostFooter-sc-1sfv28x-6 gEKJQZ"><a class="post__PostNavigator-sc-1sfv28x-7 lhRAoc" href="/ko/blog/2019/07/16/lama"><p class="post__PostNavigatorTitle-sc-1sfv28x-8 dBDefs"><span>이전 글</span><br/><b>Python 서버 개발자 관점에서 본 TypeScript, JavaScript</b></p><span class="Img__ImageContainer-sc-1rnm859-0 hMWwcz"><img src="/images/thumbnails/typescript.png" class="Img__Image-sc-1rnm859-1 fpURgw"/></span></a><a class="post__PostNavigator-sc-1sfv28x-7 lhRAoc" href="/ko/blog/2019/07/18/john"><p class="post__PostNavigatorTitle-sc-1sfv28x-8 dBDefs"><span>다음 글</span><br/><b>기술 블로그를 왜 운영해야 할까?</b></p><span class="Img__ImageContainer-sc-1rnm859-0 hMWwcz"><img src="/images/thumbnails/tech-blog.png" class="Img__Image-sc-1rnm859-1 fpURgw"/></span></a></div></div></div></div><div class="sc-hZSUBg bwAdMP"><div class="sc-bsbRJL DNFnA"><div class="Bio__BioContainer-sc-155qmyt-0 iDegNP"><img src="/images/profiles/esmond.png" class="Bio__BioImage-sc-155qmyt-1 lcDDZr"/><div class="Bio__BioBody-sc-155qmyt-2 fsJRzA"><a class="Bio__Username-sc-155qmyt-3 jSkpUy" href="/ko/authors/esmond">에즈먼드</a><div class="sc-bdVaJa hBKkTB">안녕하세요. 애즈먼입니다.</div><a href="https://github.com/EsmondCho" target="_blank" class="Bio__SocialIcon-sc-155qmyt-4 wZbtm"><img src="/images/github-64x64.png" alt="github"/></a><a href="https://www.linkedin.com/in/esmond-cho-705bba168/" target="_blank" class="Bio__SocialIcon-sc-155qmyt-4 wZbtm"><img src="/images/linkedin-64x64.png" alt="linkedin"/></a></div></div></div></div><div class="sc-hZSUBg bwAdMP"><div class="sc-bsbRJL DNFnA"><div class="Comments__CommentsContainer-sc-1631qqa-0 ckhzBz"><div id="disqus_thread"></div></div></div></div></div></main><footer class="Footer__Container-sc-1vg27dx-0 fGQKSY"><div class="sc-cMhqgX kUFcze"><div class="sc-hZSUBg bwAdMP"><div class="sc-bsbRJL DNFnA"><img src="/images/logotype-black.png" alt="class101" class="Footer__LogoIcon-sc-1vg27dx-1 egeTSP"/><div class="Footer__ContactSection-sc-1vg27dx-3 NxmbO"><div class="Footer__ContactArticle-sc-1vg27dx-4 lCGJW"><b>클래스101 기술 블로그</b><p>서울특별시 중구 한강대로 416 서울스퀘어 13층</p><p>457-81-00277</p><p><a href="mailto:helloworld@class101.net">helloworld@class101.net</a></p></div><div class="Footer__ContactArticle-sc-1vg27dx-4 lCGJW"><a href="https://play.google.com/store/apps/details?id=net.pedaling.class101" target="_blank"><img src="/images/download-android.png" alt="android" class="Footer__DownloadIcon-sc-1vg27dx-2 cICPMT"/></a><a href="https://apps.apple.com/kr/app/class101-%ED%81%B4%EB%9E%98%EC%8A%A4101/id1320607634" target="_blank"><img src="/images/download-ios.png" alt="ios" class="Footer__DownloadIcon-sc-1vg27dx-2 cICPMT"/></a></div></div></div></div></div></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-64561335-30', 'auto', {});
      
      
      
      }
      </script><script>window.fbAsyncInit = function() {
  FB.init({
    appId      : 2582489538450547,
    cookie     : false,
    version    : 'v3.3',
    xfbml      : true,
  });

  FB.AppEvents.logPageView();
};

(function(d, s, id){
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "https://connect.facebook.net/ko/sdk.js";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/ko/blog/2019/07/16/esmond/";window.webpackCompilationHash="09d7e63a8118b38f087c";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-b7ff6590f9bf92da68bc.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-2943ec6c106b997945c2.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-c94eddf0fc3c3e8c57cc.js"],"component---src-templates-posts-tsx":["/component---src-templates-posts-tsx-58b8fdaffcba4d0abd0e.js"],"component---src-templates-tag-tsx":["/component---src-templates-tag-tsx-e687348ceb8f3840f636.js"],"component---src-templates-author-tsx":["/component---src-templates-author-tsx-39f47530f007239ad737.js"],"component---src-templates-authors-tsx":["/component---src-templates-authors-tsx-49bf4197305a96e7f23f.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-78694ff6c59444c2c033.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-791567499624305546b5.js"]};/*]]>*/</script><script src="/webpack-runtime-fc9784a1e968cce5c8b8.js" async=""></script><script src="/styles-672d624a319f9e44eab1.js" async=""></script><script src="/app-b7ff6590f9bf92da68bc.js" async=""></script><script src="/0-9da074a2ae788350ccf5.js" async=""></script><script src="/12-363ce47a5cc4cb526ffe.js" async=""></script><script src="/component---src-templates-post-tsx-c94eddf0fc3c3e8c57cc.js" async=""></script></body></html>